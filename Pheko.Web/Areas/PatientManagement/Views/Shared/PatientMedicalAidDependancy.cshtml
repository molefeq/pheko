@using Pheko.WebPresentation.ViewModels;

@model PatientMedicalAidDependancyViewModel

@{
    string saveUrl = @Url.Action("SavePatientMedicalAidDependancy", "Patient");
}


<div class="modal-dialog">
    <div class="modal-content" style="max-width: 800px;" data-bind="with: currentpatientmedicaldependancy">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="ModalHeader">Medical Aid Dependancy</h4>
        </div>

        <div class="modal-body">
            <form class="form-horizontal" id="frmSavePatientMedicalAidDependancy" enctype="multipart/form-data" method="post">
                <div class="container-fluid">
                    <div class="form-group">
                        @Html.LabelFor(model => model.Title, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            <div class="radio">
                                @foreach (SelectListItem title in ViewBag.Titles)
                                {
                                    bool selected = Model.Title == title.Value;
                                    @Html.RadioButtonFor(model => model.Title, title.Value, new { data_bind = "checked: Title" }) @title.Text
                                }
                                @Html.ValidationMessageFor(model => model.Title)
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.FirstFullName, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            @Html.TextBoxFor(model => model.FirstFullName, new { @class = "form-control input-sm", data_bind = "value: FirstFullName" })
                            @Html.ValidationMessageFor(model => model.FirstFullName)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.LastName, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            @Html.TextBoxFor(model => model.LastName, new { @class = "form-control input-sm", data_bind = "value: LastName", id = "MedicalDependancy_LastName" })
                            @Html.ValidationMessageFor(model => model.LastName)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.BirthDate, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            <div class="input-group date">
                                @Html.TextBoxFor(model => model.BirthDate, new { @class = "form-control input-sm", data_bind = "value: BirthDate", id = "MedicalDependancy_BirthDate" })
                                <span class="input-group-addon">
                                    <i class="glyphicon glyphicon-th"></i>
                                </span>
                            </div>
                            @Html.ValidationMessageFor(model => model.BirthDate)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.Relationship, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            <div class="radio">
                                @foreach (SelectListItem relationship in ViewBag.Relationships)
                                {
                                    @Html.RadioButtonFor(model => model.Relationship, relationship.Value, new { data_bind = "checked: Relationship" }) @relationship.Text          
                                }
                                @Html.ValidationMessageFor(model => model.Relationship)
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.MedicalAidCode, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            @Html.TextBoxFor(model => model.MedicalAidCode, new { @class = "form-control input-sm", data_bind = "value: MedicalAidCode", id = "MedicalDependancy_MedicalAidCode" })
                            @Html.ValidationMessageFor(model => model.MedicalAidCode)
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.PrincipalInd, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            <div class="checkbox">
                                @Html.CheckBoxFor(model => model.PrincipalInd, new { data_bind = "checked: PrincipalInd", id = "MedicalDependancy_PrincipalInd" })
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-8">
                            <input type="submit" value="Save" id="btnSaveMedicalAidDependancy" class="btn btn-primary btn-sm" 
                                   data-bind="@("click: function(data, event) { $root.savemedicalaiddependancy(data, event, '" + saveUrl + "', 'frmSavePatientMedicalAidDependancy', 'patientdependancydialog')}")" />
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
        </div>
    </div>
</div>

<script src="@Url.Content("~/Scripts/Pheko/Utilities/phekodatepicker.js")"></script>
